# ä¸ªäººæ¸¸æˆç½‘ç«™

ä¸€ä¸ªå…¨æ ˆçš„æ¸¸æˆåˆ†äº«å¹³å°ï¼ŒåŒ…å«ç”¨æˆ·è®¤è¯ã€æ¸¸æˆç®¡ç†ã€æ•°æ®åˆ†æå’Œç³»ç»Ÿè®¾ç½®ç­‰åŠŸèƒ½ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **ç”¨æˆ·ç³»ç»Ÿ**: å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ‰¾å›å¯†ç åŠŸèƒ½
- **æ¸¸æˆç®¡ç†**: æ¸¸æˆä¸Šä¼ ã€ç¼–è¾‘ã€åˆ é™¤å’Œåˆ†ç±»ç®¡ç†
- **æ•°æ®åˆ†æ**: å®æ—¶ä»ªè¡¨ç›˜å±•ç¤ºç”¨æˆ·å’Œæ¸¸æˆç»Ÿè®¡æ•°æ®
- **é‚®ç®±éªŒè¯**: æ³¨å†Œå’Œæ‰¾å›å¯†ç çš„é‚®ç®±éªŒè¯ç åŠŸèƒ½
- **ç®¡ç†åå°**: ç®¡ç†å‘˜åå°åŒ…å«ç”¨æˆ·ç®¡ç†ã€æ¸¸æˆç®¡ç†ã€ç³»ç»Ÿè®¾ç½®ç­‰
- **ç³»ç»Ÿè®¾ç½®**: çµæ´»çš„ç³»ç»Ÿé…ç½®å’Œç«™ç‚¹è®¾ç½®
- **æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„ç³»ç»Ÿæ“ä½œæ—¥å¿—è®°å½•å’ŒæŸ¥è¯¢

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Vue 3**: ç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **Vite**: å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Element Plus**: UIç»„ä»¶åº“
- **Vue Router**: å‰ç«¯è·¯ç”±
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Axios**: HTTPå®¢æˆ·ç«¯
- **ECharts**: æ•°æ®å¯è§†åŒ–

### åç«¯
- **Node.js**: JavaScriptè¿è¡Œæ—¶
- **Express**: Webåº”ç”¨æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **Prisma**: ç°ä»£æ•°æ®åº“ORM
- **MySQL**: å…³ç³»å‹æ•°æ®åº“
- **Redis**: ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Nodemailer**: é‚®ä»¶å‘é€
- **Multer**: æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **JWT**: ç”¨æˆ·è®¤è¯
- **bcryptjs**: å¯†ç åŠ å¯†

## ğŸ“ é¡¹ç›®ç»“æ„

```
personal-game-website/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ middlewares/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ prisma/              # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ uploads/             # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ frontend/                # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/             # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/          # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ views/           # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ public/              # é™æ€èµ„æº
â””â”€â”€ docs/                    # æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- MySQL >= 5.7 æˆ– MySQL >= 8.0
- Redis >= 6.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/xuchang200/web.git
   cd web
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   # å®‰è£…åç«¯ä¾èµ–
   cd backend
   npm install
   
   # å®‰è£…å‰ç«¯ä¾èµ–
   cd ../frontend
   npm install
   ```

3. **ç¯å¢ƒé…ç½®**
   
   åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š
   ```env
   # æ•°æ®åº“é…ç½®
   DATABASE_URL="mysql://username:password@localhost:3306/game_website"
   
   # Redisé…ç½®
   REDIS_URL="redis://localhost:6379"
   
   # JWTå¯†é’¥
   JWT_SECRET="your-secret-key"
   
   # é‚®ç®±é…ç½®
   SMTP_HOST="smtp.gmail.com"
   SMTP_PORT=587
   SMTP_USER="your-email@gmail.com"
   SMTP_PASS="your-email-password"
   
   # æœåŠ¡å™¨é…ç½®
   PORT=3000
   NODE_ENV="development"
   ```

4. **æ•°æ®åº“è®¾ç½®**
   ```bash
   cd backend
   # è¿è¡Œæ•°æ®åº“è¿ç§»
   npx prisma migrate dev
   # ç”ŸæˆPrismaå®¢æˆ·ç«¯
   npx prisma generate
   # å¯é€‰ï¼šå¡«å……åˆå§‹æ•°æ®
   npx prisma db seed
   ```

5. **å¯åŠ¨æœåŠ¡**
   ```bash
   # å¯åŠ¨åç«¯æœåŠ¡ (åœ¨ backend ç›®å½•)
   npm run dev
   
   # å¯åŠ¨å‰ç«¯æœåŠ¡ (åœ¨ frontend ç›®å½•ï¼Œæ–°ç»ˆç«¯)
   cd ../frontend
   npm run dev
   ```

6. **è®¿é—®åº”ç”¨**
   - å‰ç«¯: http://localhost:5173
   - åç«¯API: http://localhost:3000

## ğŸ“Š ä¸»è¦åŠŸèƒ½

### ç”¨æˆ·åŠŸèƒ½
- ç”¨æˆ·æ³¨å†Œå’Œé‚®ç®±éªŒè¯
- ç”¨æˆ·ç™»å½•å’Œæ‰¾å›å¯†ç 
- ä¸ªäººèµ„æ–™ç®¡ç†
- æ¸¸æˆæ”¶è—å’Œè¯„åˆ†

### æ¸¸æˆç®¡ç†
- æ¸¸æˆä¸Šä¼ å’Œå‘å¸ƒ
- æ¸¸æˆåˆ†ç±»å’Œæ ‡ç­¾
- æ¸¸æˆç¼–è¾‘å’Œåˆ é™¤
- æ¸¸æˆæœç´¢å’Œç­›é€‰

### ç®¡ç†åŠŸèƒ½
- ç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶
- æ¸¸æˆå®¡æ ¸å’Œç®¡ç†
- ç³»ç»Ÿè®¾ç½®å’Œé…ç½®
- æ•°æ®ç»Ÿè®¡å’Œåˆ†æ
- æ“ä½œæ—¥å¿—æŸ¥çœ‹

### æ•°æ®åˆ†æ
- ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡
- æ¸¸æˆè®¿é—®é‡åˆ†æ
- ç³»ç»Ÿæ€§èƒ½ç›‘æ§
- å¯è§†åŒ–å›¾è¡¨å±•ç¤º

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç»„ä»¶å’Œå‡½æ•°ä½¿ç”¨é©¼å³°å‘½å
- æ•°æ®åº“å­—æ®µä½¿ç”¨ä¸‹åˆ’çº¿å‘½å

### æ•°æ®åº“æ“ä½œ
```bash
# åˆ›å»ºæ–°çš„è¿ç§»
npx prisma migrate dev --name migration-name

# é‡ç½®æ•°æ®åº“
npx prisma migrate reset

# æŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

### APIæ–‡æ¡£
- åç«¯APIéµå¾ªRESTfulè®¾è®¡
- ä½¿ç”¨JWTè¿›è¡Œèº«ä»½éªŒè¯
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼

## ğŸ³ ä½¿ç”¨ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

### ä¸€æ¬¡æ€§æ„å»ºå¹¶å¯åŠ¨
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« docker-compose.yml çš„ä½ç½®ï¼‰
docker compose build
docker compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f app
```
è®¿é—®ï¼š`http://æœåŠ¡å™¨IP:3000` ï¼ˆè‹¥ä½¿ç”¨ OpenResty/Nginx ç»‘å®šåŸŸååˆ™é€šè¿‡åŸŸåè®¿é—®ï¼‰ã€‚

### å¿…å¡«ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒ .env.exampleï¼‰
| å˜é‡ | è¯´æ˜ |
|------|------|
| DATABASE_URL | MySQL è¿æ¥ä¸² |
| JWT_SECRET | é•¿éšæœºå¯†é’¥ï¼ˆ>=32å­—ç¬¦ï¼‰ |
| REDIS_HOST / REDIS_PORT | Redis æœåŠ¡ï¼ˆä½¿ç”¨ compose å†…éƒ¨ redis åˆ™ä¸º redis:6379ï¼‰ |
| NODE_ENV | production |
| MAINTENANCE_MODE | æ˜¯å¦å¯ç”¨ç»´æŠ¤æ¨¡å¼ |

### ç”Ÿäº§æ¨èæ“ä½œ
```
# å¥åº·æ£€æŸ¥
curl http://127.0.0.1:3000/health

# è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆè‹¥éœ€è¦æ‰‹åŠ¨ï¼‰ï¼š
docker compose exec app npx prisma migrate deploy
```

### ä½¿ç”¨ OpenResty / Nginx åå‘ä»£ç†åŸŸåç¤ºä¾‹
```
server {
    listen 80;
    server_name example.com;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

### æ•°æ®æŒä¹…åŒ–
- ä¸Šä¼ ç›®å½•ï¼š`uploads` å·ï¼ˆæ˜ å°„åˆ°å®¹å™¨ `/app/backend/uploads`ï¼‰ã€‚
- Redis æ•°æ®ï¼š`redis_data` å·ï¼ˆå¦‚ä½¿ç”¨äº‘ Redis å¯åˆ é™¤è¯¥å·å’Œ redis æœåŠ¡ï¼‰ã€‚

### å¸¸è§é—®é¢˜ FAQ
| é—®é¢˜ | è¯´æ˜ |
|------|------|
| ä¸ºä»€ä¹ˆåªæš´éœ² 3000 ç«¯å£ | Node åŒæ—¶æä¾›é™æ€å‰ç«¯ä¸ API |
| å¦‚ä½•åŠ  HTTPS | ç”¨ OpenResty/Nginx/Caddy é…ç½®è¯ä¹¦å¹¶åä»£åˆ° 3000 |
| æ”¹äº†ä»£ç éœ€è¦é‡å¯å— | éœ€é‡æ–°æ„å»ºé•œåƒï¼š`docker compose build && docker compose up -d` |
| ä¸Šä¼ æ–‡ä»¶ä¼šä¸¢å— | ä¸ä¼šï¼Œå·²ä½¿ç”¨å‘½åå· `uploads` |

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒæ„å»º
```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# æ„å»ºåç«¯
cd ../backend
npm run build
```

### ç¯å¢ƒå˜é‡
ç”Ÿäº§ç¯å¢ƒéœ€è¦é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `DATABASE_URL`: ç”Ÿäº§æ•°æ®åº“è¿æ¥
- `REDIS_URL`: Redisè¿æ¥
- `JWT_SECRET`: JWTå¯†é’¥
- `SMTP_*`: é‚®ç®±æœåŠ¡é…ç½®

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- GitHub Issues
- Email: [ä½ çš„é‚®ç®±]

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ ‡ï¼